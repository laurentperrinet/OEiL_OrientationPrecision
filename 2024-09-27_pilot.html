<!DOCTYPE html>
<html>
  <head>
    
    <script src="https://unpkg.com/jspsych@7.3.4"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-image-swipe-response@1.0.0"></script>
    <!-- https://www.jspsych.org/v7/plugins/html-button-response/ -->
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.3"></script>    
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.2.0"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe@0.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@2.0.0"></script>
    <link href="https://unpkg.com/jspsych@7.3.4/css/jspsych.css" rel="stylesheet" type="text/css" /> 
    <style>
      /* document.body.style.backgroundColor = '#808080'   */
      body {
        background-color: rgba(0.5, 0.5, 0.5, 0.5);
      }      
    </style>
  </head>
  <body></body>
  <script>
    var timeline = [];

    var preload = {
      type: jsPsychPreload,
      auto_preload: true
    };
    timeline.push(preload);

    var instructions = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `
        <p>In this experiment, an image of a texture will appear in the center 
        of the screen. If you consider that the average orientation of contours in the texture is oriented counter-clockwise relative to the vertical, press the left arrow on the keyboard as fast as you can. In the other case and you perceive it more clockwise and press the right arrow.</p>
        <p>On a mobile phone or a tablet, you can also swipe the image respectively left or right.</p>
        <p>Press any key to begin.</p>        
      `,
      post_trial_gap: 5000,
    }; 
    timeline.push(instructions);


    // https://github.com/jspsych/jspsych-contrib/tree/main/packages/plugin-image-swipe-response
    var trials = {
      type: jsPsychImageSwipeResponse,
      // prompt: '<p>Press  left or right.</p>',
      choices: ['ArrowLeft', 'ArrowRight'],
      stimulus_duration: null,
      stimulus_height: Math.min(window.screen.height, window.screen.width),
      stimulus_width: Math.min(window.screen.height, window.screen.width),
      maintain_aspect_ratio: true,
      timeline: [
          {stimulus: 'img_pilot/0.png', on_finish: function() {jsPsych.setProgressBar(0.0000);}},
          {stimulus: 'img_pilot/1.png', on_finish: function() {jsPsych.setProgressBar(0.0046);}},
          {stimulus: 'img_pilot/2.png', on_finish: function() {jsPsych.setProgressBar(0.0093);}},
          {stimulus: 'img_pilot/3.png', on_finish: function() {jsPsych.setProgressBar(0.0139);}},
          {stimulus: 'img_pilot/4.png', on_finish: function() {jsPsych.setProgressBar(0.0185);}},
          {stimulus: 'img_pilot/5.png', on_finish: function() {jsPsych.setProgressBar(0.0231);}},
          {stimulus: 'img_pilot/6.png', on_finish: function() {jsPsych.setProgressBar(0.0278);}},
          {stimulus: 'img_pilot/7.png', on_finish: function() {jsPsych.setProgressBar(0.0324);}},
          {stimulus: 'img_pilot/8.png', on_finish: function() {jsPsych.setProgressBar(0.0370);}},
          {stimulus: 'img_pilot/9.png', on_finish: function() {jsPsych.setProgressBar(0.0417);}},
          {stimulus: 'img_pilot/10.png', on_finish: function() {jsPsych.setProgressBar(0.0463);}},
          {stimulus: 'img_pilot/11.png', on_finish: function() {jsPsych.setProgressBar(0.0509);}},
          {stimulus: 'img_pilot/12.png', on_finish: function() {jsPsych.setProgressBar(0.0556);}},
          {stimulus: 'img_pilot/13.png', on_finish: function() {jsPsych.setProgressBar(0.0602);}},
          {stimulus: 'img_pilot/14.png', on_finish: function() {jsPsych.setProgressBar(0.0648);}},
          {stimulus: 'img_pilot/15.png', on_finish: function() {jsPsych.setProgressBar(0.0694);}},
          {stimulus: 'img_pilot/16.png', on_finish: function() {jsPsych.setProgressBar(0.0741);}},
          {stimulus: 'img_pilot/17.png', on_finish: function() {jsPsych.setProgressBar(0.0787);}},
          {stimulus: 'img_pilot/18.png', on_finish: function() {jsPsych.setProgressBar(0.0833);}},
          {stimulus: 'img_pilot/19.png', on_finish: function() {jsPsych.setProgressBar(0.0880);}},
          {stimulus: 'img_pilot/20.png', on_finish: function() {jsPsych.setProgressBar(0.0926);}},
          {stimulus: 'img_pilot/21.png', on_finish: function() {jsPsych.setProgressBar(0.0972);}},
          {stimulus: 'img_pilot/22.png', on_finish: function() {jsPsych.setProgressBar(0.1019);}},
          {stimulus: 'img_pilot/23.png', on_finish: function() {jsPsych.setProgressBar(0.1065);}},
          {stimulus: 'img_pilot/24.png', on_finish: function() {jsPsych.setProgressBar(0.1111);}},
          {stimulus: 'img_pilot/25.png', on_finish: function() {jsPsych.setProgressBar(0.1157);}},
          {stimulus: 'img_pilot/26.png', on_finish: function() {jsPsych.setProgressBar(0.1204);}},
          {stimulus: 'img_pilot/27.png', on_finish: function() {jsPsych.setProgressBar(0.1250);}},
          {stimulus: 'img_pilot/28.png', on_finish: function() {jsPsych.setProgressBar(0.1296);}},
          {stimulus: 'img_pilot/29.png', on_finish: function() {jsPsych.setProgressBar(0.1343);}},
          {stimulus: 'img_pilot/30.png', on_finish: function() {jsPsych.setProgressBar(0.1389);}},
          {stimulus: 'img_pilot/31.png', on_finish: function() {jsPsych.setProgressBar(0.1435);}},
          {stimulus: 'img_pilot/32.png', on_finish: function() {jsPsych.setProgressBar(0.1481);}},
          {stimulus: 'img_pilot/33.png', on_finish: function() {jsPsych.setProgressBar(0.1528);}},
          {stimulus: 'img_pilot/34.png', on_finish: function() {jsPsych.setProgressBar(0.1574);}},
          {stimulus: 'img_pilot/35.png', on_finish: function() {jsPsych.setProgressBar(0.1620);}},
          {stimulus: 'img_pilot/36.png', on_finish: function() {jsPsych.setProgressBar(0.1667);}},
          {stimulus: 'img_pilot/37.png', on_finish: function() {jsPsych.setProgressBar(0.1713);}},
          {stimulus: 'img_pilot/38.png', on_finish: function() {jsPsych.setProgressBar(0.1759);}},
          {stimulus: 'img_pilot/39.png', on_finish: function() {jsPsych.setProgressBar(0.1806);}},
          {stimulus: 'img_pilot/40.png', on_finish: function() {jsPsych.setProgressBar(0.1852);}},
          {stimulus: 'img_pilot/41.png', on_finish: function() {jsPsych.setProgressBar(0.1898);}},
          {stimulus: 'img_pilot/42.png', on_finish: function() {jsPsych.setProgressBar(0.1944);}},
          {stimulus: 'img_pilot/43.png', on_finish: function() {jsPsych.setProgressBar(0.1991);}},
          {stimulus: 'img_pilot/44.png', on_finish: function() {jsPsych.setProgressBar(0.2037);}},
          {stimulus: 'img_pilot/45.png', on_finish: function() {jsPsych.setProgressBar(0.2083);}},
          {stimulus: 'img_pilot/46.png', on_finish: function() {jsPsych.setProgressBar(0.2130);}},
          {stimulus: 'img_pilot/47.png', on_finish: function() {jsPsych.setProgressBar(0.2176);}},
          {stimulus: 'img_pilot/48.png', on_finish: function() {jsPsych.setProgressBar(0.2222);}},
          {stimulus: 'img_pilot/49.png', on_finish: function() {jsPsych.setProgressBar(0.2269);}},
          {stimulus: 'img_pilot/50.png', on_finish: function() {jsPsych.setProgressBar(0.2315);}},
          {stimulus: 'img_pilot/51.png', on_finish: function() {jsPsych.setProgressBar(0.2361);}},
          {stimulus: 'img_pilot/52.png', on_finish: function() {jsPsych.setProgressBar(0.2407);}},
          {stimulus: 'img_pilot/53.png', on_finish: function() {jsPsych.setProgressBar(0.2454);}},
          {stimulus: 'img_pilot/54.png', on_finish: function() {jsPsych.setProgressBar(0.2500);}},
          {stimulus: 'img_pilot/55.png', on_finish: function() {jsPsych.setProgressBar(0.2546);}},
          {stimulus: 'img_pilot/56.png', on_finish: function() {jsPsych.setProgressBar(0.2593);}},
          {stimulus: 'img_pilot/57.png', on_finish: function() {jsPsych.setProgressBar(0.2639);}},
          {stimulus: 'img_pilot/58.png', on_finish: function() {jsPsych.setProgressBar(0.2685);}},
          {stimulus: 'img_pilot/59.png', on_finish: function() {jsPsych.setProgressBar(0.2731);}},
          {stimulus: 'img_pilot/60.png', on_finish: function() {jsPsych.setProgressBar(0.2778);}},
          {stimulus: 'img_pilot/61.png', on_finish: function() {jsPsych.setProgressBar(0.2824);}},
          {stimulus: 'img_pilot/62.png', on_finish: function() {jsPsych.setProgressBar(0.2870);}},
          {stimulus: 'img_pilot/63.png', on_finish: function() {jsPsych.setProgressBar(0.2917);}},
          {stimulus: 'img_pilot/64.png', on_finish: function() {jsPsych.setProgressBar(0.2963);}},
          {stimulus: 'img_pilot/65.png', on_finish: function() {jsPsych.setProgressBar(0.3009);}},
          {stimulus: 'img_pilot/66.png', on_finish: function() {jsPsych.setProgressBar(0.3056);}},
          {stimulus: 'img_pilot/67.png', on_finish: function() {jsPsych.setProgressBar(0.3102);}},
          {stimulus: 'img_pilot/68.png', on_finish: function() {jsPsych.setProgressBar(0.3148);}},
          {stimulus: 'img_pilot/69.png', on_finish: function() {jsPsych.setProgressBar(0.3194);}},
          {stimulus: 'img_pilot/70.png', on_finish: function() {jsPsych.setProgressBar(0.3241);}},
          {stimulus: 'img_pilot/71.png', on_finish: function() {jsPsych.setProgressBar(0.3287);}},
          {stimulus: 'img_pilot/72.png', on_finish: function() {jsPsych.setProgressBar(0.3333);}},
          {stimulus: 'img_pilot/73.png', on_finish: function() {jsPsych.setProgressBar(0.3380);}},
          {stimulus: 'img_pilot/74.png', on_finish: function() {jsPsych.setProgressBar(0.3426);}},
          {stimulus: 'img_pilot/75.png', on_finish: function() {jsPsych.setProgressBar(0.3472);}},
          {stimulus: 'img_pilot/76.png', on_finish: function() {jsPsych.setProgressBar(0.3519);}},
          {stimulus: 'img_pilot/77.png', on_finish: function() {jsPsych.setProgressBar(0.3565);}},
          {stimulus: 'img_pilot/78.png', on_finish: function() {jsPsych.setProgressBar(0.3611);}},
          {stimulus: 'img_pilot/79.png', on_finish: function() {jsPsych.setProgressBar(0.3657);}},
          {stimulus: 'img_pilot/80.png', on_finish: function() {jsPsych.setProgressBar(0.3704);}},
          {stimulus: 'img_pilot/81.png', on_finish: function() {jsPsych.setProgressBar(0.3750);}},
          {stimulus: 'img_pilot/82.png', on_finish: function() {jsPsych.setProgressBar(0.3796);}},
          {stimulus: 'img_pilot/83.png', on_finish: function() {jsPsych.setProgressBar(0.3843);}},
          {stimulus: 'img_pilot/84.png', on_finish: function() {jsPsych.setProgressBar(0.3889);}},
          {stimulus: 'img_pilot/85.png', on_finish: function() {jsPsych.setProgressBar(0.3935);}},
          {stimulus: 'img_pilot/86.png', on_finish: function() {jsPsych.setProgressBar(0.3981);}},
          {stimulus: 'img_pilot/87.png', on_finish: function() {jsPsych.setProgressBar(0.4028);}},
          {stimulus: 'img_pilot/88.png', on_finish: function() {jsPsych.setProgressBar(0.4074);}},
          {stimulus: 'img_pilot/89.png', on_finish: function() {jsPsych.setProgressBar(0.4120);}},
          {stimulus: 'img_pilot/90.png', on_finish: function() {jsPsych.setProgressBar(0.4167);}},
          {stimulus: 'img_pilot/91.png', on_finish: function() {jsPsych.setProgressBar(0.4213);}},
          {stimulus: 'img_pilot/92.png', on_finish: function() {jsPsych.setProgressBar(0.4259);}},
          {stimulus: 'img_pilot/93.png', on_finish: function() {jsPsych.setProgressBar(0.4306);}},
          {stimulus: 'img_pilot/94.png', on_finish: function() {jsPsych.setProgressBar(0.4352);}},
          {stimulus: 'img_pilot/95.png', on_finish: function() {jsPsych.setProgressBar(0.4398);}},
          {stimulus: 'img_pilot/96.png', on_finish: function() {jsPsych.setProgressBar(0.4444);}},
          {stimulus: 'img_pilot/97.png', on_finish: function() {jsPsych.setProgressBar(0.4491);}},
          {stimulus: 'img_pilot/98.png', on_finish: function() {jsPsych.setProgressBar(0.4537);}},
          {stimulus: 'img_pilot/99.png', on_finish: function() {jsPsych.setProgressBar(0.4583);}},
          {stimulus: 'img_pilot/100.png', on_finish: function() {jsPsych.setProgressBar(0.4630);}},
          {stimulus: 'img_pilot/101.png', on_finish: function() {jsPsych.setProgressBar(0.4676);}},
          {stimulus: 'img_pilot/102.png', on_finish: function() {jsPsych.setProgressBar(0.4722);}},
          {stimulus: 'img_pilot/103.png', on_finish: function() {jsPsych.setProgressBar(0.4769);}},
          {stimulus: 'img_pilot/104.png', on_finish: function() {jsPsych.setProgressBar(0.4815);}},
          {stimulus: 'img_pilot/105.png', on_finish: function() {jsPsych.setProgressBar(0.4861);}},
          {stimulus: 'img_pilot/106.png', on_finish: function() {jsPsych.setProgressBar(0.4907);}},
          {stimulus: 'img_pilot/107.png', on_finish: function() {jsPsych.setProgressBar(0.4954);}},
          {stimulus: 'img_pilot/108.png', on_finish: function() {jsPsych.setProgressBar(0.5000);}},
          {stimulus: 'img_pilot/109.png', on_finish: function() {jsPsych.setProgressBar(0.5046);}},
          {stimulus: 'img_pilot/110.png', on_finish: function() {jsPsych.setProgressBar(0.5093);}},
          {stimulus: 'img_pilot/111.png', on_finish: function() {jsPsych.setProgressBar(0.5139);}},
          {stimulus: 'img_pilot/112.png', on_finish: function() {jsPsych.setProgressBar(0.5185);}},
          {stimulus: 'img_pilot/113.png', on_finish: function() {jsPsych.setProgressBar(0.5231);}},
          {stimulus: 'img_pilot/114.png', on_finish: function() {jsPsych.setProgressBar(0.5278);}},
          {stimulus: 'img_pilot/115.png', on_finish: function() {jsPsych.setProgressBar(0.5324);}},
          {stimulus: 'img_pilot/116.png', on_finish: function() {jsPsych.setProgressBar(0.5370);}},
          {stimulus: 'img_pilot/117.png', on_finish: function() {jsPsych.setProgressBar(0.5417);}},
          {stimulus: 'img_pilot/118.png', on_finish: function() {jsPsych.setProgressBar(0.5463);}},
          {stimulus: 'img_pilot/119.png', on_finish: function() {jsPsych.setProgressBar(0.5509);}},
          {stimulus: 'img_pilot/120.png', on_finish: function() {jsPsych.setProgressBar(0.5556);}},
          {stimulus: 'img_pilot/121.png', on_finish: function() {jsPsych.setProgressBar(0.5602);}},
          {stimulus: 'img_pilot/122.png', on_finish: function() {jsPsych.setProgressBar(0.5648);}},
          {stimulus: 'img_pilot/123.png', on_finish: function() {jsPsych.setProgressBar(0.5694);}},
          {stimulus: 'img_pilot/124.png', on_finish: function() {jsPsych.setProgressBar(0.5741);}},
          {stimulus: 'img_pilot/125.png', on_finish: function() {jsPsych.setProgressBar(0.5787);}},
          {stimulus: 'img_pilot/126.png', on_finish: function() {jsPsych.setProgressBar(0.5833);}},
          {stimulus: 'img_pilot/127.png', on_finish: function() {jsPsych.setProgressBar(0.5880);}},
          {stimulus: 'img_pilot/128.png', on_finish: function() {jsPsych.setProgressBar(0.5926);}},
          {stimulus: 'img_pilot/129.png', on_finish: function() {jsPsych.setProgressBar(0.5972);}},
          {stimulus: 'img_pilot/130.png', on_finish: function() {jsPsych.setProgressBar(0.6019);}},
          {stimulus: 'img_pilot/131.png', on_finish: function() {jsPsych.setProgressBar(0.6065);}},
          {stimulus: 'img_pilot/132.png', on_finish: function() {jsPsych.setProgressBar(0.6111);}},
          {stimulus: 'img_pilot/133.png', on_finish: function() {jsPsych.setProgressBar(0.6157);}},
          {stimulus: 'img_pilot/134.png', on_finish: function() {jsPsych.setProgressBar(0.6204);}},
          {stimulus: 'img_pilot/135.png', on_finish: function() {jsPsych.setProgressBar(0.6250);}},
          {stimulus: 'img_pilot/136.png', on_finish: function() {jsPsych.setProgressBar(0.6296);}},
          {stimulus: 'img_pilot/137.png', on_finish: function() {jsPsych.setProgressBar(0.6343);}},
          {stimulus: 'img_pilot/138.png', on_finish: function() {jsPsych.setProgressBar(0.6389);}},
          {stimulus: 'img_pilot/139.png', on_finish: function() {jsPsych.setProgressBar(0.6435);}},
          {stimulus: 'img_pilot/140.png', on_finish: function() {jsPsych.setProgressBar(0.6481);}},
          {stimulus: 'img_pilot/141.png', on_finish: function() {jsPsych.setProgressBar(0.6528);}},
          {stimulus: 'img_pilot/142.png', on_finish: function() {jsPsych.setProgressBar(0.6574);}},
          {stimulus: 'img_pilot/143.png', on_finish: function() {jsPsych.setProgressBar(0.6620);}},
          {stimulus: 'img_pilot/144.png', on_finish: function() {jsPsych.setProgressBar(0.6667);}},
          {stimulus: 'img_pilot/145.png', on_finish: function() {jsPsych.setProgressBar(0.6713);}},
          {stimulus: 'img_pilot/146.png', on_finish: function() {jsPsych.setProgressBar(0.6759);}},
          {stimulus: 'img_pilot/147.png', on_finish: function() {jsPsych.setProgressBar(0.6806);}},
          {stimulus: 'img_pilot/148.png', on_finish: function() {jsPsych.setProgressBar(0.6852);}},
          {stimulus: 'img_pilot/149.png', on_finish: function() {jsPsych.setProgressBar(0.6898);}},
          {stimulus: 'img_pilot/150.png', on_finish: function() {jsPsych.setProgressBar(0.6944);}},
          {stimulus: 'img_pilot/151.png', on_finish: function() {jsPsych.setProgressBar(0.6991);}},
          {stimulus: 'img_pilot/152.png', on_finish: function() {jsPsych.setProgressBar(0.7037);}},
          {stimulus: 'img_pilot/153.png', on_finish: function() {jsPsych.setProgressBar(0.7083);}},
          {stimulus: 'img_pilot/154.png', on_finish: function() {jsPsych.setProgressBar(0.7130);}},
          {stimulus: 'img_pilot/155.png', on_finish: function() {jsPsych.setProgressBar(0.7176);}},
          {stimulus: 'img_pilot/156.png', on_finish: function() {jsPsych.setProgressBar(0.7222);}},
          {stimulus: 'img_pilot/157.png', on_finish: function() {jsPsych.setProgressBar(0.7269);}},
          {stimulus: 'img_pilot/158.png', on_finish: function() {jsPsych.setProgressBar(0.7315);}},
          {stimulus: 'img_pilot/159.png', on_finish: function() {jsPsych.setProgressBar(0.7361);}},
          {stimulus: 'img_pilot/160.png', on_finish: function() {jsPsych.setProgressBar(0.7407);}},
          {stimulus: 'img_pilot/161.png', on_finish: function() {jsPsych.setProgressBar(0.7454);}},
          {stimulus: 'img_pilot/162.png', on_finish: function() {jsPsych.setProgressBar(0.7500);}},
          {stimulus: 'img_pilot/163.png', on_finish: function() {jsPsych.setProgressBar(0.7546);}},
          {stimulus: 'img_pilot/164.png', on_finish: function() {jsPsych.setProgressBar(0.7593);}},
          {stimulus: 'img_pilot/165.png', on_finish: function() {jsPsych.setProgressBar(0.7639);}},
          {stimulus: 'img_pilot/166.png', on_finish: function() {jsPsych.setProgressBar(0.7685);}},
          {stimulus: 'img_pilot/167.png', on_finish: function() {jsPsych.setProgressBar(0.7731);}},
          {stimulus: 'img_pilot/168.png', on_finish: function() {jsPsych.setProgressBar(0.7778);}},
          {stimulus: 'img_pilot/169.png', on_finish: function() {jsPsych.setProgressBar(0.7824);}},
          {stimulus: 'img_pilot/170.png', on_finish: function() {jsPsych.setProgressBar(0.7870);}},
          {stimulus: 'img_pilot/171.png', on_finish: function() {jsPsych.setProgressBar(0.7917);}},
          {stimulus: 'img_pilot/172.png', on_finish: function() {jsPsych.setProgressBar(0.7963);}},
          {stimulus: 'img_pilot/173.png', on_finish: function() {jsPsych.setProgressBar(0.8009);}},
          {stimulus: 'img_pilot/174.png', on_finish: function() {jsPsych.setProgressBar(0.8056);}},
          {stimulus: 'img_pilot/175.png', on_finish: function() {jsPsych.setProgressBar(0.8102);}},
          {stimulus: 'img_pilot/176.png', on_finish: function() {jsPsych.setProgressBar(0.8148);}},
          {stimulus: 'img_pilot/177.png', on_finish: function() {jsPsych.setProgressBar(0.8194);}},
          {stimulus: 'img_pilot/178.png', on_finish: function() {jsPsych.setProgressBar(0.8241);}},
          {stimulus: 'img_pilot/179.png', on_finish: function() {jsPsych.setProgressBar(0.8287);}},
          {stimulus: 'img_pilot/180.png', on_finish: function() {jsPsych.setProgressBar(0.8333);}},
          {stimulus: 'img_pilot/181.png', on_finish: function() {jsPsych.setProgressBar(0.8380);}},
          {stimulus: 'img_pilot/182.png', on_finish: function() {jsPsych.setProgressBar(0.8426);}},
          {stimulus: 'img_pilot/183.png', on_finish: function() {jsPsych.setProgressBar(0.8472);}},
          {stimulus: 'img_pilot/184.png', on_finish: function() {jsPsych.setProgressBar(0.8519);}},
          {stimulus: 'img_pilot/185.png', on_finish: function() {jsPsych.setProgressBar(0.8565);}},
          {stimulus: 'img_pilot/186.png', on_finish: function() {jsPsych.setProgressBar(0.8611);}},
          {stimulus: 'img_pilot/187.png', on_finish: function() {jsPsych.setProgressBar(0.8657);}},
          {stimulus: 'img_pilot/188.png', on_finish: function() {jsPsych.setProgressBar(0.8704);}},
          {stimulus: 'img_pilot/189.png', on_finish: function() {jsPsych.setProgressBar(0.8750);}},
          {stimulus: 'img_pilot/190.png', on_finish: function() {jsPsych.setProgressBar(0.8796);}},
          {stimulus: 'img_pilot/191.png', on_finish: function() {jsPsych.setProgressBar(0.8843);}},
          {stimulus: 'img_pilot/192.png', on_finish: function() {jsPsych.setProgressBar(0.8889);}},
          {stimulus: 'img_pilot/193.png', on_finish: function() {jsPsych.setProgressBar(0.8935);}},
          {stimulus: 'img_pilot/194.png', on_finish: function() {jsPsych.setProgressBar(0.8981);}},
          {stimulus: 'img_pilot/195.png', on_finish: function() {jsPsych.setProgressBar(0.9028);}},
          {stimulus: 'img_pilot/196.png', on_finish: function() {jsPsych.setProgressBar(0.9074);}},
          {stimulus: 'img_pilot/197.png', on_finish: function() {jsPsych.setProgressBar(0.9120);}},
          {stimulus: 'img_pilot/198.png', on_finish: function() {jsPsych.setProgressBar(0.9167);}},
          {stimulus: 'img_pilot/199.png', on_finish: function() {jsPsych.setProgressBar(0.9213);}},
          {stimulus: 'img_pilot/200.png', on_finish: function() {jsPsych.setProgressBar(0.9259);}},
          {stimulus: 'img_pilot/201.png', on_finish: function() {jsPsych.setProgressBar(0.9306);}},
          {stimulus: 'img_pilot/202.png', on_finish: function() {jsPsych.setProgressBar(0.9352);}},
          {stimulus: 'img_pilot/203.png', on_finish: function() {jsPsych.setProgressBar(0.9398);}},
          {stimulus: 'img_pilot/204.png', on_finish: function() {jsPsych.setProgressBar(0.9444);}},
          {stimulus: 'img_pilot/205.png', on_finish: function() {jsPsych.setProgressBar(0.9491);}},
          {stimulus: 'img_pilot/206.png', on_finish: function() {jsPsych.setProgressBar(0.9537);}},
          {stimulus: 'img_pilot/207.png', on_finish: function() {jsPsych.setProgressBar(0.9583);}},
          {stimulus: 'img_pilot/208.png', on_finish: function() {jsPsych.setProgressBar(0.9630);}},
          {stimulus: 'img_pilot/209.png', on_finish: function() {jsPsych.setProgressBar(0.9676);}},
          {stimulus: 'img_pilot/210.png', on_finish: function() {jsPsych.setProgressBar(0.9722);}},
          {stimulus: 'img_pilot/211.png', on_finish: function() {jsPsych.setProgressBar(0.9769);}},
          {stimulus: 'img_pilot/212.png', on_finish: function() {jsPsych.setProgressBar(0.9815);}},
          {stimulus: 'img_pilot/213.png', on_finish: function() {jsPsych.setProgressBar(0.9861);}},
          {stimulus: 'img_pilot/214.png', on_finish: function() {jsPsych.setProgressBar(0.9907);}},
          {stimulus: 'img_pilot/215.png', on_finish: function() {jsPsych.setProgressBar(0.9954);}},
        ],
    }
    timeline.push(trials);

    var jsPsych = initJsPsych({
      show_progress_bar: true,
      auto_update_progress_bar: false,
      default_iti: 200,
      on_finish: function(){
        window.location = "https://laurentperrinet.github.io/OEiL_OrientationPrecision/"
      }
    });    

    const filename = `pilot-${jsPsych.randomization.randomID(10)}-data.json`
    const save_data = {
      type: jsPsychPipe,
      action: "save",
      experiment_id: "lXM18cF9QE3z",
      filename: filename,
      data_string: ()=>jsPsych.data.get().json()
    };
    timeline.push(save_data);
    
    const byebye = {
      type: jsPsychHtmlButtonResponse,
      stimulus: `
      <p>Many thanks for your participation ! </p>
      `,
      post_trial_gap: 2000,
      trial_duration: 2000,
      stimulus_duration: 2000,
    }; 
    timeline.push(byebye);
    
    jsPsych.run(timeline);

    </script>
</html>